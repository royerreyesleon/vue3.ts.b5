import{u as L,r as c,e as k,m}from"./index-0f55ad4f.js";import{a as x,S as v}from"./sweetalert2.all-e9a3c9e0.js";import{u as S,f as q,j as E,k as P,o as i,c as r,a as o,l as g,v as u,n as p,F as _,i as f,t as h}from"./index-3334f7f5.js";import{_ as V,a as j}from"./bootstrap-logo-65ff3390.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";const D={setup(){const d=S(),t=q.useLoading(),a=E({email:"eve.holt@reqres.in",password:"cityslicka"}),s=P(()=>({email:{required:c,email:k,minLength:m(3)},password:{required:c,minLength:m(2)}}));return{v$:L(s,a),submitLogin:async e=>{e.preventDefault();const b=t.show();console.log("state",a);const y={email:a.email,password:a.password},l=await x("https://reqres.in/api/login","POST",y),n=await l.json();console.log("loginRequest",l),console.log("response",n),l.status==200?(localStorage.setItem("token",n.token),v.fire("Success","You are successfully logged in","success"),d.push({path:"/",replace:!0})):v.fire("Error",n.error,"error"),b.hide()}}}},R={class:"container mt-5 pt-5"},F={class:"row d-flex justify-content-center"},T={class:"col-xl-4 col-lg-6 col-md-6"},U={class:"card"},z={class:"card-body"},C=o("div",{class:"text-center my-4"},[o("img",{src:V,alt:"Logo",width:"72",height:"57"}),o("img",{src:j,alt:"Logo",width:"72",height:"57"})],-1),I=o("h1",{class:"card-title h3 mb-3 text-center"},"Please sign in",-1),M={class:"mb-3"},N=o("label",{for:"email",class:"form-label"},"Email",-1),O={class:"mb-3"},Y=o("label",{for:"password",class:"form-label"},"Password",-1),A=["disabled"];function G(d,t,a,s,w,$){return i(),r("div",R,[o("div",F,[o("div",T,[o("div",U,[o("div",z,[C,I,o("form",{onSubmit:t[2]||(t[2]=(...e)=>s.submitLogin&&s.submitLogin(...e))},[o("div",M,[N,g(o("input",{type:"email",class:p({"form-control":!s.v$.email.$dirty,"form-control is-invalid":s.v$.email.$errors.length,"form-control is-valid":!s.v$.email.$errors.length&&s.v$.email.$dirty}),id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.v$.email.$model=e)},null,2),[[u,s.v$.email.$model]]),(i(!0),r(_,null,f(s.v$.email.$errors,e=>(i(),r("div",{class:"invalid-feedback",key:e.$uid},h(e.$message),1))),128))]),o("div",O,[Y,g(o("input",{type:"password",class:p({"form-control":!s.v$.password.$dirty,"form-control is-invalid":s.v$.password.$errors.length,"form-control is-valid":!s.v$.password.$errors.length&&s.v$.password.$dirty}),id:"password",autocomplete:"on","onUpdate:modelValue":t[1]||(t[1]=e=>s.v$.password.$model=e)},null,2),[[u,s.v$.password.$model]]),(i(!0),r(_,null,f(s.v$.password.$errors,e=>(i(),r("div",{class:"invalid-feedback",key:e.$uid},h(e.$message),1))),128))]),o("button",{type:"submit",class:"btn btn-secondary w-100 py-2",disabled:s.v$.$invalid}," Sign in ",8,A)],32)])])])])])}const X=B(D,[["render",G]]);export{X as default};
