import{u as x,r as m,m as u}from"./index-8009a6e0.js";import{S as v}from"./sweetalert2.all-00ea368b.js";import{u as k,f as w,j as C,k as S,r as L,o as a,c as n,a as o,b as V,w as U,l as b,v as f,n as _,F as d,i as $,e as B,t as h}from"./index-487aaab7.js";import{U as N}from"./Users-861ea522.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const D={setup(){const c=k(),t=w.useLoading(),r=C({name:"morpheus",job:"leader"}),e=S(()=>({name:{required:m,minLength:u(2)},job:{required:m,minLength:u(2)}}));return{v$:x(e,r),submitCreate:async l=>{l.preventDefault();const s=t.show();console.log("state",r);const g={name:r.name,job:r.job},i=await N.createService(g),y=await i.json();if(console.log("request",i),console.log("response",y),i.status!=201){s.hide(),v.fire("Error",i.error,"error");return}s.hide(),v.fire("Success","Successfully created","success"),c.push({path:"/users/index"})}}}},E=o("h1",{class:"text-start"},"User Create",-1),R={class:"text-start"},F={class:"row d-flex justify-content-center"},T={class:"col-md-8"},z={class:"card"},J={class:"card-body"},M={class:"mb-3"},A=o("label",{for:"name",class:"form-label"},"Name",-1),G={class:"mb-3"},H=o("label",{for:"job",class:"form-label"},"Job",-1),I=["disabled"];function K(c,t,r,e,j,p){const l=L("RouterLink");return a(),n(d,null,[E,o("p",R,[V(l,{to:"/users/index",class:"btn btn-secondary"},{default:U(()=>[B(" Back ")]),_:1})]),o("div",F,[o("div",T,[o("div",z,[o("div",J,[o("form",{onSubmit:t[2]||(t[2]=(...s)=>e.submitCreate&&e.submitCreate(...s))},[o("div",M,[A,b(o("input",{type:"text",class:_({"form-control":!e.v$.name.$dirty,"form-control is-invalid":e.v$.name.$errors.length,"form-control is-valid":!e.v$.name.$errors.length&&e.v$.name.$dirty}),id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>e.v$.name.$model=s)},null,2),[[f,e.v$.name.$model]]),(a(!0),n(d,null,$(e.v$.name.$errors,s=>(a(),n("div",{class:"invalid-feedback",key:s.$uid},h(s.$message),1))),128))]),o("div",G,[H,b(o("input",{type:"job",class:_({"form-control":!e.v$.job.$dirty,"form-control is-invalid":e.v$.job.$errors.length,"form-control is-valid":!e.v$.job.$errors.length&&e.v$.job.$dirty}),id:"job",autocomplete:"on","onUpdate:modelValue":t[1]||(t[1]=s=>e.v$.job.$model=s)},null,2),[[f,e.v$.job.$model]]),(a(!0),n(d,null,$(e.v$.job.$errors,s=>(a(),n("div",{class:"invalid-feedback",key:s.$uid},h(s.$message),1))),128))]),o("button",{type:"submit",class:"btn btn-success w-100 py-2",disabled:e.v$.$invalid}," Save ",8,I)],32)])])])])],64)}const Y=q(D,[["render",K]]);export{Y as default};
